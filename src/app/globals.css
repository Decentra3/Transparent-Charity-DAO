@import "tailwindcss";

/* Tailwind v4 theme tokens so utilities like bg-card/text-card-foreground work */
@theme {
  --color-background: hsl(var(--background));
  --color-foreground: hsl(var(--foreground));
  --color-card: hsl(var(--card));
  --color-card-foreground: hsl(var(--card-foreground));
  --color-popover: hsl(var(--popover));
  --color-popover-foreground: hsl(var(--popover-foreground));
  --color-primary: hsl(var(--primary));
  --color-primary-foreground: hsl(var(--primary-foreground));
  --color-secondary: hsl(var(--secondary));
  --color-secondary-foreground: hsl(var(--secondary-foreground));
  --color-muted: hsl(var(--muted));
  --color-muted-foreground: hsl(var(--muted-foreground));
  --color-accent: hsl(var(--accent));
  --color-accent-foreground: hsl(var(--accent-foreground));
  --color-destructive: hsl(var(--destructive));
  --color-destructive-foreground: hsl(var(--destructive-foreground));
  --color-border: hsl(var(--border));
  --color-input: hsl(var(--input));
  --color-ring: hsl(var(--ring));
}

@layer base {
  :root {
    /* Dark theme by default with precise hex mappings */
    --background: 0 0% 3.9%; /* #0a0a0a */
    --foreground: 210 40% 98%;
    --card: 0 0% 9%; /* #171717 */
    --card-foreground: 210 40% 98%;
    --popover: 0 0% 9%;
    --popover-foreground: 210 40% 98%;
    /* Primary mapped to green-700 */
    --primary: 142 76% 36%; /* tailwind green-700 */
    --primary-foreground: 0 0% 100%;
    --secondary: 0 0% 9%; /* align with card for surfaces */
    --secondary-foreground: 210 40% 96%;
    --muted: 0 0% 15%; /* #262626 */
    --muted-foreground: 215 20% 65%;
    --accent: 0 0% 12%; /* #1f1f1f */
    --accent-foreground: 210 40% 96%;
    --destructive: 0 72% 45%;
    --destructive-foreground: 210 40% 98%;
    --border: 0 0% 20%; /* gray-700 ish */
    --input: 0 0% 20%;
    --ring: 142 76% 36%;
    --chart-1: 142 70% 40%;
    --chart-2: 160 60% 45%;
    --chart-3: 30 80% 55%;
    --chart-4: 280 65% 60%;
    --chart-5: 340 75% 55%;
    /* slightly rounded by default */
    --radius: 0.6rem;
    /* default button in dark: white bg, black text */
    --button-bg: 0 0% 100%;
    --button-foreground: 0 0% 0%;
  }

  .light {
    /* Light theme with white background and green-700 primary */
    --background: 0 0% 100%; /* white */
    --foreground: 0 0% 9%; /* near black */
    --card: 0 0% 100%; /* white */
    --card-foreground: 0 0% 9%;
    --popover: 0 0% 100%;
    --popover-foreground: 0 0% 9%;
    /* Primary stays green-700 */
    --primary: 142 76% 36%; /* tailwind green-700 */
    --primary-foreground: 0 0% 100%;
    --secondary: 0 0% 96%; /* very light gray */
    --secondary-foreground: 0 0% 9%;
    --muted: 0 0% 96%; /* very light gray */
    --muted-foreground: 0 0% 45%; /* medium gray */
    --accent: 0 0% 96%; /* very light gray */
    --accent-foreground: 0 0% 9%;
    --destructive: 0 72% 45%;
    --destructive-foreground: 0 0% 100%;
    --border: 0 0% 90%; /* light gray */
    --input: 0 0% 90%; /* light gray */
    --ring: 142 76% 36%; /* green-700 */
    --chart-1: 142 70% 40%;
    --chart-2: 160 60% 45%;
    --chart-3: 30 80% 55%;
    --chart-4: 280 65% 60%;
    --chart-5: 340 75% 55%;
    /* slightly rounded by default */
    --radius: 0.6rem;
    /* default button in light: primary bg, white text */
    --button-bg: var(--primary);
    --button-foreground: var(--primary-foreground);
  }
}

@layer base {
  * {
    border-color: hsl(var(--border));
  }
  body {
    background-color: hsl(var(--background));
    color: hsl(var(--foreground));
    max-width: 100%;
  }
}

/* Custom scrollbar */
::-webkit-scrollbar {
  width: 8px;
}

::-webkit-scrollbar-track {
  background-color: hsl(var(--secondary));
  border-radius: 9999px;
}

::-webkit-scrollbar-thumb {
  background-color: hsl(var(--muted));
  border-radius: 9999px;
}

::-webkit-scrollbar-thumb:hover {
  background-color: hsl(var(--border));
}

/* Custom animations */
@keyframes float {
  0%, 100% {
    transform: translateY(0px);
  }
  50% {
    transform: translateY(-20px);
  }
}

.float-animation {
  animation: float 6s ease-in-out infinite;
}

/* Backdrop blur fallback */
.backdrop-blur-sm {
  -webkit-backdrop-filter: blur(4px);
  backdrop-filter: blur(4px);
}

.backdrop-blur-md {
  -webkit-backdrop-filter: blur(12px);
  backdrop-filter: blur(12px);
}

/* Line clamp utility */
.line-clamp-2 {
  display: -webkit-box;
  -webkit-line-clamp: 2;
  line-clamp: 2;
  -webkit-box-orient: vertical;
  overflow: hidden;
}

.line-clamp-3 {
  display: -webkit-box;
  -webkit-line-clamp: 3;
  line-clamp: 3;
  -webkit-box-orient: vertical;
  overflow: hidden;
}

/* Prevent media elements from overflowing horizontally */
img, video, canvas, svg {
  max-width: 100%;
  height: auto;
}

/* Gradient text fix for Safari */
.bg-clip-text {
  -webkit-background-clip: text;
  background-clip: text;
}

/* Custom focus styles */
.focus-visible\:ring-2:focus-visible {
  outline: 2px solid transparent;
  outline-offset: 2px;
  box-shadow: 0 0 0 2px rgb(59 130 246 / 0.5);
}

/* Improved button hover effects */
.transition-all {
  transition-property: all;
  transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);
  transition-duration: 150ms;
}